# Rust生命周期

## Rust编译器的弱点

Rust中的每一个**引用**都会有一个有效作用域。在 大多数情况下我们无需手动声明生命周期，因为编译器能够可以自动推导。  

Rust编译器有一个借用检查器(borrow checker),它比较作用域来确保所有借用都是有效的，来判断所有借用都是合法的。

## 悬垂指针

```rust
fn main() {
    {
        let r;

        {
            let x = 5;
            r = &x;
        }

        println!("r: {}", r);
    }
}
```

这段代码值得注意的点：

* r引用了内部的花括号中的x变量，但是x会在内部花括号}处被释放，因此r会引用一个无效的x

此处r是一个悬垂指针，它引用了提前被释放的变量x。

## 生命周期标记的组成

> 生命周期的标注并不会改变任何引用的实际作用域。

## 函数的中的生命周期

## struct和enum的标注

## 方法的标注

## static生命周期

## 生命周期可以消除的场景
